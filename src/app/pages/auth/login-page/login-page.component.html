<app-auth-page-header></app-auth-page-header>

<mdb-card class="auth-card my-3 my-md-5">
  <mdb-card-header class="primary-color white-text text-center py-3">
    <h5>ログイン</h5>
  </mdb-card-header>

  <mdb-card-body class="px-lg-5 pt-3 pt-lg-4 pb-5">

    <!-- ログインエラーメッセージ -->
    <ng-container *ngIf="loginErrorMessage">
      <p class="error mb-5">{{loginErrorMessage}}</p>
    </ng-container>

    <!-- Form -->
    <form class="text-center" [formGroup]="form" (ngSubmit)="login()">

      <!-- Email -->
      <div class="md-form">
        <input
          type="email"
          id="email"
          class="form-control"
          formControlName="email"
          mdbInput
          mdbValidate
        >
        <label for="email">メールアドレス</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">メールアドレスは入力必須です</span>
          <span *ngIf="emailInput.errors.email">不正なメールアドレスです</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>

      <!-- Password -->
      <div class="md-form">
        <input
          type="password"
          id="password"
          class="form-control"
          formControlName="password"
          mdbInput
          mdbValidate
        >
        <label for="password">パスワード</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">パスワードは入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>

      <!-- Sign in button -->
      <button
        mdbBtn
        color="primary"
        block="true"
        class="mt-5 mb-4 waves-effect z-depth-0"
        mdbWavesEffect
        type="submit"
        [disabled]="form.invalid"
      >ログイン</button>

      <div class="d-flex justify-content-around">
        <div>
          <a routerLink="/signup">会員登録</a></div>
        <div>
          <!-- Forgot password -->
          <a routerLink="/reset-password">パスワードを忘れましたか?</a>
        </div>
      </div>
    </form>
  </mdb-card-body>
</mdb-card>
