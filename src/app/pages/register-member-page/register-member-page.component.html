<app-auth-page-header></app-auth-page-header>

<mdb-card class="auth-card my-3 my-md-5">
  <mdb-card-header class="primary-color white-text text-center py-3">
    <h5>会員登録</h5>
  </mdb-card-header>

  <mdb-card-body class="px-lg-5 pt-3 pt-lg-4 pb-5">

    <!-- サインアップエラーメッセージ -->
    <ng-container *ngIf="signUpErrorMessage">
      <p class="error mb-5">{{signUpErrorMessage}}</p>
    </ng-container>
    <!-- Form -->
    <form class="text-center" [formGroup]="form" (ngSubmit)="signUp()">

      <!-- 保護者 姓 -->
      <div class="md-form">
        <input
          type="text"
          id="sei"
          class="form-control"
          formControlName="sei"
          mdbInput
          mdbValidate
        >
        <label for="sei">姓(申込者)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 保護者 名 -->
      <div class="md-form">
        <input
          type="text"
          id="mei"
          class="form-control"
          formControlName="mei"
          mdbInput
          mdbValidate
        >
        <label for="mei">名(申込者)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 保護者 姓カナ -->
      <div class="md-form">
        <input
          type="text"
          id="sei-ruby"
          class="form-control"
          formControlName="seiRuby"
          mdbInput
          mdbValidate
        >
        <label for="sei-ruby">セイ(申込者)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
          <span *ngIf="emailInput.errors.pattern">カタカナで入力してください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 保護者 名カナ -->
      <div class="md-form">
        <input
          type="text"
          id="mei-ruby"
          class="form-control"
          formControlName="meiRuby"
          mdbInput
          mdbValidate
        >
        <label for="mei-ruby">メイ(申込者)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
          <span *ngIf="emailInput.errors.pattern">カタカナで入力してください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 都道府県(セレクトボックス) -->
      <div class="md-form">
        <input
          type="text"
          id="prefCode"
          class="form-control"
          formControlName="prefCode"
          mdbInput
          mdbValidate
        >
        <label for="prefCode">都道府県</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">都道府県を選んでください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 電話番号 -->
      <div class="md-form">
        <input
          type="text"
          id="tel"
          class="form-control"
          formControlName="tel"
          mdbInput
          mdbValidate
        >
        <label for="tel">電話番号</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
          <span *ngIf="emailInput.errors.pattern">電話番号を入力してください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 受講生が申込者本人(チェックボックス) -->
      <div class="md-form">
        <input
          type="checkbox"
          id="same-as"
          class="form-control"
          formControlName="sameAs"
          mdbInput
          mdbValidate
        >
        <label for="same-as">受講生が申込者本人である場合はチェック</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- 受講生 姓 -->
      <div class="md-form">
        <input
          type="text"
          id="st-sei"
          class="form-control"
          formControlName="stSei"
          mdbInput
          mdbValidate
        >
        <label for="st-sei">姓(受講生)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 受講生 名 -->
      <div class="md-form">
        <input
          type="text"
          id="st-mei"
          class="form-control"
          formControlName="stMei"
          mdbInput
          mdbValidate
        >
        <label for="st-mei">名(受講生)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 受講生 姓カナ -->
      <div class="md-form">
        <input
          type="text"
          id="st-sei-ruby"
          class="form-control"
          formControlName="stSeiRuby"
          mdbInput
          mdbValidate
        >
        <label for="st-sei-ruby">セイ(受講生)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
          <span *ngIf="emailInput.errors.pattern">カタカナで入力してください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 受講生 名カナ -->
      <div class="md-form">
        <input
          type="text"
          id="st-mei-ruby"
          class="form-control"
          formControlName="stMeiRuby"
          mdbInput
          mdbValidate
        >
        <label for="st-mei-ruby">メイ(受講生)</label>
        <mdb-error *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
          <span *ngIf="emailInput.errors.required">入力必須です</span>
          <span *ngIf="emailInput.errors.pattern">カタカナで入力してください</span>
        </mdb-error>
        <mdb-success *ngIf="emailInput.valid && (emailInput.dirty || emailInput.touched)"></mdb-success>
      </div>
      <!-- 生年月日 年 -->
      <div class="md-form">
        <input
          type="text"
          id="bd-year"
          class="form-control"
          formControlName="bdYear"
          mdbInput
          mdbValidate
        >
        <label for="bd-year">年</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- 生年月日 月 -->
      <div class="md-form">
        <input
          type="text"
          id="bd-month"
          class="form-control"
          formControlName="bdMonth"
          mdbInput
          mdbValidate
        >
        <label for="bd-month">月</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- 生年月日 日 -->
      <div class="md-form">
        <input
          type="text"
          id="bd-day"
          class="form-control"
          formControlName="bdDay"
          mdbInput
          mdbValidate
        >
        <label for="bd-day">日</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- アポロン -->
      <div class="md-form">
        <input
          type="checkbox"
          id="apollon"
          class="form-control"
          formControlName="apollon"
          mdbInput
          mdbValidate
        >
        <label for="apollon">アポロン</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">パスワードは入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- プロゲート -->
      <div class="md-form">
        <input
          type="checkbox"
          id="progate"
          class="form-control"
          formControlName="progate"
          mdbInput
          mdbValidate
        >
        <label for="progate">Progate</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">パスワードは入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>
      <!-- その他 -->
      <div class="md-form">
        <input
          type="checkbox"
          id="other"
          class="form-control"
          formControlName="other"
          mdbInput
          mdbValidate
        >
        <label for="other">その他</label>
        <mdb-error *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
          <span *ngIf="passwordInput.errors.required">パスワードは入力必須です</span>
        </mdb-error>
        <mdb-success *ngIf="passwordInput.valid && (passwordInput.dirty || passwordInput.touched)"></mdb-success>
      </div>

      <div class="d-flex justify-content-center">
        <mdb-checkbox formControlName="termsAccept"></mdb-checkbox>
        <div><a (click)="openMembershipAgreementModal()" routerLink="#">利用規約</a>に同意します</div>
      </div>


      <!-- Sign up button -->
      <button
        mdbBtn
        color="primary"
        block="true"
        class="mt-5 mb-4 waves-effect z-depth-0"
        mdbWavesEffect
        type="submit"
        [disabled]="form.invalid"
      >会員登録</button>
      <div class="d-flex justify-content-around">
        <div>
          <a routerLink="/login">ログイン</a></div>
        <div>
          <!-- Forgot password -->
          <a routerLink="/reset-password">パスワードを忘れましたか?</a>
        </div>
      </div>
    </form>
  </mdb-card-body>
</mdb-card>
